version: '3.7'

services:
  app_proxy:
    environment:
      APP_HOST: denny-gitdiagram_web_1
      APP_PORT: 8000

  web:
    image: dennysubke/gitdiagram:1.0@sha256:8388e9e6485a3fc99bc39891e8748ab8e59ae51511ad7800be306d75d74d67e3
    environment:
      - ENVIRONMENT=${ENVIRONMENT:-development}
      - NEXT_PUBLIC_API_DEV_URL=http://localhost:8000
    restart: on-failure
    volumes:
      - ${APP_DATA_DIR}/data/backend:/app
