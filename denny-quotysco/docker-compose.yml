version: '3.7'

services:
   db:
     image: linuxserver/mariadb:11.4.4@sha256:fdf30e6b302688c290cef10ca24b80e6e25e93955bc6b64636777f06676a6c52
     volumes:
       - ${APP_DATA_DIR}/data/dbvol:/var/lib/mysql

     environment:
       MYSQL_ROOT_PASSWORD: quotysco
       MYSQL_DATABASE: quotysco
       MYSQL_USER: quotysco
       MYSQL_PASSWORD: quotysco

   quotysco:
     depends_on:
       - db
     image: interaapps/quotysco:2.0.0@sha256:ede8f960e07a1b42121f501b9703d4eeed668d24bfdca89a1a402b7d07673433
     ports:
       - "9999:80"
       
     environment:
       HTTP_SERVER_PORT: 9997
       HTTP_SERVER_CORS: "*"
       DATABASE_DRIVER: mysql
       DATABASE_NAME: quotysco
       DATABASE_USER: quotysco
       DATABASE_PASSWORD: quotysco
       DATABASE_HOST: db
       DATABASE_PORT: 3346
       SERVER_NAME: "http://umbrel.local:9997"
       IA_OAUTH2_CLIENT_ID:
       IA_OAUTH2_CLIENT_SECRET:
 
       FTP_URL:
       FTP_HOST:
       FTP_USER:
       FTP_PASSWORD:
       FTP_BASE_DIR:

volumes:
  dbvol: