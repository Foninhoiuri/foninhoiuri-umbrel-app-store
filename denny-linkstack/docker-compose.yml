version: "3.8"

services:
  linkstack:
    hostname: linkstack
    image: linkstackorg/linkstack:latest@sha256:6e7e8f44099f7c4f1340bb9ffda5411f97da766a06fd63cf1ff90c57ce22dd61
    environment:
      TZ: Europe/Berlin
      SERVER_ADMIN:
      HTTP_SERVER_NAME:
      HTTPS_SERVER_NAME:
      LOG_LEVEL: 'info'
      PHP_MEMORY_LIMIT: '256M'
      UPLOAD_MAX_FILESIZE: '8M'
    volumes:
      - ${APP_DATA_DIR}/linkstack:/htdocs
    ports:
      - '8080:80'
      - '8081:443'
    restart: unless-stopped
    user: apache:apache
    # read_only: true
    depends_on:
      - mysql
    links:
      - mysql
  mysql:
    image: mysql:8
    environment:
        MYSQL_ROOT_PASSWORD: xeFgUGb5mPPn5q2d
    ports:
        - 3306:3306
